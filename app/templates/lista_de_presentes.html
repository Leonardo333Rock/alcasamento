{% extends 'home.html' %}
{% load static %}
{% block content %}

  <div class="container flex div_presentes">
    {% for x in presente %}
    <div class="card" style="width: 18rem;">
      <img class="card-img-top" src="{{x.link_img}}" alt="Card image cap">
      <div class="card-body">
        <h5 class="card-title">{{x.presente}}</h5>
        <p class="card-text">{{x.descricao}}</p>

        {% for p in pg %}
          {% if x.quantidades > 0 and p.id_presente == x.id %}
              <p class="presenteado">Presenteado por: {{p.nome}} ❤️</p>
          {% elif x.quantidades == 0 and p.id_presente == x.id %}
              <hr>
              <p class="presenteado">Presenteado por:<br> {{p.nome}} ❤️</p>
          {% endif %}
        {% endfor %}

        {% if x.quantidades == 0 %}
        <p class="indisponivel">Indisponivel</p>

        {% endif %}
        
        {% if x.quantidades > 0 %}
            <a href="presentear/{{x.id}}" class="btn btn-primary">Presentear ❤️</a>
            <p class="card-text">Restantes <i>{{x.quantidades}}</i></p>
        {% endif %}

      </div>
    </div>
    {% endfor %}
  </div>
  
{% endblock %}

